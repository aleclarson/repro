## Steps

https://asciinema.org/a/kdQCKqSHznp0ivL6GCfjD2hz5

```sh
git clone https://github.com/aleclarson/repro.git -b dts-1 dts-1
cd dts-1
yarn
```

### `index.d.ts`

The bundle generated by `dts-bundle-generator`

### `lib/index.d.ts`

The typedefs generated by `tsc`

### Example output

```sh
$ yarn

yarn install v1.15.2
[1/4] ðŸ”  Resolving packages...
success Already up-to-date.
$ sh prepare.sh
warning package.json: No license field
warning bar@1.0.0: No license field
[--] 0/2
warning package.json: No license field
warning foo@1.0.0: No license field
[---------------------------------------------------------------------] 0/112
yarn run v1.15.2
warning package.json: No license field
$ tsc -d -p . --outDir lib
âœ¨  Done in 1.17s.


import { Bar } from 'bar';
export declare type Foo = (bar: Bar) => void;
export declare const foo: Foo;
export { bar } from 'bar';


yarn run v1.15.2
warning package.json: No license field
$ dts-bundle-generator -o index.d.ts index.ts
Compiling input files...
WARNING: It seems that some files in the compilation still are not declaration files.
For more information see https://github.com/timocov/dts-bundle-generator/issues/53.
If you think this is a mistake, feel free to open new issue or just ignore this warning.
  /Users/alec/dev/sandbox/repro/bar/index.ts

Processing index.ts
Writing index.ts -> index.d.ts
Checking generated files...
index.d.ts(2,14): error TS2323: Cannot redeclare exported variable 'bar'.
index.d.ts(2,25): error TS1039: Initializers are not allowed in ambient contexts.
index.d.ts(2,31): error TS1183: An implementation cannot be declared in ambient contexts.
index.d.ts(5,10): error TS2323: Cannot redeclare exported variable 'bar'.
index.d.ts(5,10): error TS2484: Export declaration conflicts with exported declaration of 'bar'.

Error: Compiled with errors
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.


export type Bar = () => void
export const bar: Bar = () => {}
export declare type Foo = (bar: Bar) => void;
export declare const foo: Foo;
export { bar } from 'bar';

export {};


âœ¨  Done in 4.94s.
```
